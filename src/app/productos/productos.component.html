<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click&Shop</title>
</head>

<body>

  <header>
    <div class="contenedor">
      <nav class="barra navegacion">
        <div class="contenedor_fluid">
          <div class="marca">
            <a href="/home" class="logo-usuario">
              <img src="img/carrito.png" alt="carro" />
              <h1 class="titulo">Click&Shop</h1>
            </a>
          </div>
          <div class="colapsar" id="menu">
            <ul class="lista_navegacion">
              <li class="elemento_navegacion"><a class="enlace_navegacion" href="/home">Inicio</a></li>
              <li *ngIf="rolUsuario === 1 || rolUsuario === 2" class="elemento_navegacion">
                <a class="enlace_navegacion" href="/productos">Productos</a>
              </li>
              <li *ngIf="rolUsuario === 1 || rolUsuario === 2" class="elemento_navegacion">
                <a class="enlace_navegacion" href="/supermercados">Supermercados</a>
              </li>
              <li *ngIf="rolUsuario === 1 || rolUsuario === 2"  class="elemento_navegacion">
                <a class="enlace_navegacion" href="/favoritos">Favoritos</a>
              </li>

              <li *ngIf="rolUsuario === 1" class="elemento_navegacion">
                <a class="enlace_navegacion" href="/admin-panel">Panel Admin</a>
              </li>
  
              <li *ngIf="usuarioAutenticado" class="elemento_navegacion">
                <button class="boton-cerrar-sesion" (click)="cerrarSesion()">Cerrar Sesión</button>
              </li>

              <li *ngIf="!usuarioAutenticado" class="elemento_navegacion">
                <a class="enlace_navegacion" href="/login">Iniciar Sesión</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>
  
  

<main>
  <div class="contenedor-busqueda" *ngIf="productosFiltrados.length != 0">
    <input 
      type="text"
      class="entrada-busqueda"
      placeholder="Escribe tu búsqueda aquí..."
      [(ngModel)]="terminoBusqueda">
    <button class="boton-buscar" (click)="buscar()">Buscar</button>
    <button type="button" class="boton-buscar" (click)="limpiarBusqueda()">Limpiar</button>
  </div>
  
  <p *ngIf="terminoBusqueda">Buscando: "{{ terminoBusqueda }}"</p>
  <div *ngIf="productosFiltrados.length === 0">
    <div class="spinner-content">
      <div class="spinner-border text-light" role="status"></div>
      <h1 class="text-white mb-4">Cargando productos...</h1>
      <img src="img/spinner.gif" alt="Cargando..." />
    </div>
  </div>
  
  <section class="cuadrícula-productos">
    <div class="fondo-desenfocado"></div>

  
    <div *ngFor="let producto of obtenerProductosPaginaActual()" class="tarjeta-producto">
      <img [src]="producto.link_imagen || 'assets/placeholder.jpg'" 
           alt="{{ producto.nombre }}" 
           width="150">
      <h3>{{ producto.nombre }}</h3>
      <p>Supermercado: {{ producto.supermercado }}</p>
      <p>Precio: {{ producto.precio }} €</p>
    </div>
  </section>
  
  <div class="paginacion" *ngIf="productosFiltrados.length != 0">
    <button (click)="anteriorPagina()" [disabled]="currentPage === 1">Anterior</button>
    <span>Página {{ currentPage }} de {{ totalPages }}</span>
    <button (click)="siguientePagina()" [disabled]="currentPage === totalPages">Siguiente</button>
  </div>
  
</main>

<footer class="pie-pagina">
  <div class="contenedor-pie">
    <div class="seccion-pie">
      <h4 class="titulo-pie">Sobre Nosotros</h4>
      <ul class="lista-pie">
        <li><a href="#">Quiénes somos</a></li>
        <li><a href="#">Contacto</a></li>
        <li><a href="#">Política de privacidad</a></li>
        <li><a href="#">Términos y condiciones</a></li>
      </ul>
    </div>
    <div class="seccion-pie">
      <h4 class="titulo-pie">Ayuda</h4>
      <ul class="lista-pie">
        <li><a href="#">Preguntas frecuentes</a></li>
        <li><a href="#">Soporte</a></li>
      </ul>
    </div>
    <div class="seccion-pie">
      <h4 class="titulo-pie">Redes Sociales</h4>
      <div class="iconos-redes">
        <a href="#"><img src="img/facebook.png" alt="Facebook"></a>
        <a href="#"><img src="img/x.png" alt="Twitter"></a>
        <a href="#"><img src="img/instagram.png" alt="Instagram"></a>
      </div>
    </div>
    <div class="seccion-pie">
      <h4 class="titulo-pie">Contacto</h4>
      <p class="contacto-pie">Teléfono: +34 0000000000</p>
      <p class="contacto-pie">Email: <a href="mailto:clickshop@gmail.com">clickshop&#64;gmail.com</a></p>
    </div>
  </div>
  <div class="pie-inferior">
    <p>&copy; 2024 Click&Shop. Todos los derechos reservados.</p>
  </div>
</footer>

</body>
</html>